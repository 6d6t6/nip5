<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>NIP-05 Registration</title>
</head>
<body>
  <h2>Register NIP-05</h2>

  <form id="f">
    <input name="name" placeholder="name" required>
    <input name="npub" placeholder="npub..." required size="60">
    <button>Register</button>
  </form>

  <pre id="out"></pre>

<script>
document.getElementById("f").onsubmit = async (e) => {
  e.preventDefault();
  const form = e.target;
  const body = {
    name: form.name.value,
    npub: form.npub.value
  };

  const r = await fetch(
    "https://nip5.dooot.workers.dev/register",
    {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(body)
    }
  );

  document.getElementById("out").textContent = await r.text();
};
</script>
</body>
</html>
